[
  {
    "sql": [
      "CREATE SCHEMA \"todo\";\n",
      "\nCREATE TABLE \"todo\".\"aichat\" (\n\t\"aichat_id\" uuid PRIMARY KEY DEFAULT gen_random_uuid() NOT NULL,\n\t\"message\" text NOT NULL,\n\t\"created_at\" timestamp with time zone DEFAULT now() NOT NULL\n);\n",
      "\nCREATE TABLE \"todo\".\"file\" (\n\t\"file_id\" uuid PRIMARY KEY DEFAULT gen_random_uuid() NOT NULL,\n\t\"filename\" varchar(255) NOT NULL,\n\t\"mimetype\" varchar(100) NOT NULL,\n\t\"filesize\" integer NOT NULL,\n\t\"created_at\" timestamp with time zone DEFAULT now() NOT NULL,\n\t\"created_by\" integer NOT NULL,\n\t\"updated_at\" timestamp with time zone DEFAULT now() NOT NULL,\n\t\"updated_by\" integer NOT NULL\n);\n",
      "\nCREATE TABLE \"todo\".\"session\" (\n\t\"session_id\" serial PRIMARY KEY NOT NULL,\n\t\"session_key\" varchar(255) NOT NULL,\n\t\"originalMaxAge\" integer,\n\t\"expires\" timestamp with time zone DEFAULT now(),\n\t\"user_id\" integer,\n\t\"data\" text DEFAULT '{}' NOT NULL,\n\t\"created_at\" timestamp with time zone DEFAULT now() NOT NULL,\n\t\"updated_at\" timestamp with time zone DEFAULT now() NOT NULL,\n\tCONSTRAINT \"session_session_key_unique\" UNIQUE(\"session_key\")\n);\n",
      "\nCREATE TABLE \"todo\".\"space\" (\n\t\"space_id\" serial PRIMARY KEY NOT NULL,\n\t\"owner_id\" integer NOT NULL,\n\t\"space_name\" varchar(100) NOT NULL,\n\t\"space_description\" varchar(400) DEFAULT '' NOT NULL,\n\t\"space_order\" integer DEFAULT 0 NOT NULL,\n\t\"space_image\" text DEFAULT '' NOT NULL,\n\t\"space_color\" varchar(100) DEFAULT '' NOT NULL,\n\t\"created_at\" timestamp with time zone DEFAULT now() NOT NULL,\n\t\"created_by\" integer NOT NULL,\n\t\"updated_at\" timestamp with time zone DEFAULT now() NOT NULL,\n\t\"updated_by\" integer NOT NULL\n);\n",
      "\nCREATE TABLE \"todo\".\"todo\" (\n\t\"todo_id\" uuid PRIMARY KEY DEFAULT gen_random_uuid() NOT NULL,\n\t\"space_id\" integer NOT NULL,\n\t\"title\" varchar(100) DEFAULT '' NOT NULL,\n\t\"description\" text DEFAULT '' NOT NULL,\n\t\"begin_date\" varchar(10) DEFAULT '' NOT NULL,\n\t\"begin_time\" varchar(10) DEFAULT '' NOT NULL,\n\t\"limit_date\" varchar(10) DEFAULT '' NOT NULL,\n\t\"limit_time\" varchar(10) DEFAULT '' NOT NULL,\n\t\"order\" integer DEFAULT 0 NOT NULL,\n\t\"done_at\" timestamp with time zone,\n\t\"created_at\" timestamp with time zone DEFAULT now() NOT NULL,\n\t\"created_by\" integer NOT NULL,\n\t\"updated_at\" timestamp with time zone DEFAULT now() NOT NULL,\n\t\"updated_by\" integer NOT NULL\n);\n",
      "\nCREATE TABLE \"todo\".\"todo_to_file\" (\n\t\"todo_id\" uuid NOT NULL,\n\t\"file_id\" uuid NOT NULL,\n\tCONSTRAINT \"todo_to_file_todo_id_file_id_pk\" PRIMARY KEY(\"todo_id\",\"file_id\")\n);\n",
      "\nCREATE TABLE \"todo\".\"user\" (\n\t\"user_id\" serial PRIMARY KEY NOT NULL,\n\t\"email\" varchar(255) NOT NULL,\n\t\"password\" varchar(255) NOT NULL,\n\t\"username\" varchar(100) NOT NULL,\n\t\"avatar_image\" text DEFAULT '' NOT NULL,\n\t\"description\" varchar(400) DEFAULT '' NOT NULL,\n\t\"twofa_enable\" boolean DEFAULT false NOT NULL,\n\t\"twofa_secret\" varchar(255) DEFAULT '' NOT NULL,\n\t\"aichat_enable\" boolean DEFAULT false NOT NULL,\n\t\"aichat_model\" varchar(100) DEFAULT '' NOT NULL,\n\t\"aichat_api_key\" varchar(255) DEFAULT '' NOT NULL,\n\t\"created_at\" timestamp with time zone DEFAULT now() NOT NULL,\n\t\"updated_at\" timestamp with time zone DEFAULT now() NOT NULL,\n\tCONSTRAINT \"user_email_unique\" UNIQUE(\"email\")\n);\n",
      "\nCREATE TABLE \"todo\".\"user_to_file\" (\n\t\"user_id\" integer NOT NULL,\n\t\"file_id\" uuid NOT NULL,\n\tCONSTRAINT \"user_to_file_user_id_file_id_pk\" PRIMARY KEY(\"user_id\",\"file_id\")\n);\n",
      "\nCREATE TABLE \"todo\".\"whiteboard\" (\n\t\"whiteboard_id\" serial PRIMARY KEY NOT NULL,\n\t\"owner_id\" integer NOT NULL,\n\t\"whiteboard_name\" varchar(100) DEFAULT '' NOT NULL,\n\t\"whiteboard_description\" varchar(400) DEFAULT '' NOT NULL,\n\t\"whiteboard_order\" integer DEFAULT 0 NOT NULL,\n\t\"whiteboard_content\" text DEFAULT '' NOT NULL,\n\t\"created_at\" timestamp with time zone DEFAULT now() NOT NULL,\n\t\"created_by\" integer NOT NULL,\n\t\"updated_at\" timestamp with time zone DEFAULT now() NOT NULL,\n\t\"updated_by\" integer NOT NULL\n);\n",
      "\nALTER TABLE \"todo\".\"session\" ADD CONSTRAINT \"session_user_id_user_user_id_fk\" FOREIGN KEY (\"user_id\") REFERENCES \"todo\".\"user\"(\"user_id\") ON DELETE cascade ON UPDATE no action;",
      "\nALTER TABLE \"todo\".\"space\" ADD CONSTRAINT \"space_owner_id_user_user_id_fk\" FOREIGN KEY (\"owner_id\") REFERENCES \"todo\".\"user\"(\"user_id\") ON DELETE cascade ON UPDATE no action;",
      "\nALTER TABLE \"todo\".\"todo\" ADD CONSTRAINT \"todo_space_id_space_space_id_fk\" FOREIGN KEY (\"space_id\") REFERENCES \"todo\".\"space\"(\"space_id\") ON DELETE cascade ON UPDATE no action;",
      "\nALTER TABLE \"todo\".\"todo_to_file\" ADD CONSTRAINT \"todo_to_file_todo_id_todo_todo_id_fk\" FOREIGN KEY (\"todo_id\") REFERENCES \"todo\".\"todo\"(\"todo_id\") ON DELETE no action ON UPDATE no action;",
      "\nALTER TABLE \"todo\".\"todo_to_file\" ADD CONSTRAINT \"todo_to_file_file_id_file_file_id_fk\" FOREIGN KEY (\"file_id\") REFERENCES \"todo\".\"file\"(\"file_id\") ON DELETE no action ON UPDATE no action;",
      "\nALTER TABLE \"todo\".\"user_to_file\" ADD CONSTRAINT \"user_to_file_user_id_user_user_id_fk\" FOREIGN KEY (\"user_id\") REFERENCES \"todo\".\"user\"(\"user_id\") ON DELETE no action ON UPDATE no action;",
      "\nALTER TABLE \"todo\".\"user_to_file\" ADD CONSTRAINT \"user_to_file_file_id_file_file_id_fk\" FOREIGN KEY (\"file_id\") REFERENCES \"todo\".\"file\"(\"file_id\") ON DELETE no action ON UPDATE no action;",
      "\nALTER TABLE \"todo\".\"whiteboard\" ADD CONSTRAINT \"whiteboard_owner_id_user_user_id_fk\" FOREIGN KEY (\"owner_id\") REFERENCES \"todo\".\"user\"(\"user_id\") ON DELETE cascade ON UPDATE no action;"
    ],
    "bps": true,
    "folderMillis": 1760100446209,
    "hash": "7c33bb0ba63e48064e0a5059765ba59c9097fee80f65b6ec6bb63ae080611106"
  }
]
